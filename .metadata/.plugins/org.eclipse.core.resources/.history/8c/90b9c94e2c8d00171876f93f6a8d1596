<%@ page language="java" contentType="text/html;charset=utf-8" pageEncoding="utf-8"%>
<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
	<title>首页</title>
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
	<link rel="stylesheet" href="<%=request.getContextPath() %>/resources/css/bootstrap.min.css" />
	<link rel="stylesheet" href="<%=request.getContextPath() %>/resources/css/shouye.css" />
	<link rel="stylesheet" href="<%=request.getContextPath() %>/resources/css/font-awesome.min.css" />
</head>
<body>
	<!-- WRAPPER -->
	<div id="wrapper" class="container-fluid">
		<!-- MAIN -->
		<div class="main row">
			<!-- MAIN CONTENT -->
			<div class="main-content col-sm-12">
				<div class="container-fluid">
					<!-- OVERVIEW -->
					<div class="panel panel-headline">
						<div class="panel-heading">
							<h3 class="panel-title">信息总览</h3>
						</div>
						<div class="panel-body">
							<div class="row">
								<div class="col-md-3">
									<div class="metric">
										<span class="icon"><i class="fa fa-file-o"></i></span>
										<p>
											<span id="report_count" class="number">${reportCount}</span>
											<span class="title">报告数量</span>
										</p>
									</div>
								</div>
								<div class="col-md-3">
									<div class="metric">
										<span class="icon"><i class="fa fa-heartbeat"></i></span>
										<p>
											<span id="device_count"  class="number">${deviceCount }</span>
											<span class="title">产品数量</span>
										</p>
									</div>
								</div>
								<div class="col-md-3">
									<div class="metric">
										<span class="icon"><i class="fa fa-bolt"></i></span>
										<p>
											<span id="minute_report" class="number">${minuteCount}<font class="title">次</font></span>
											<span class="title">1分钟报告</span>
										</p>
									</div>
								</div>
								<div class="col-md-3">
									<div class="metric">
										<span class="icon"><i class="fa fa-clock-o"></i></span>
										<p>
											<span id="hour_report" class="number">${hourCount}<font class="title">次</font></span>
											<span class="title">24小时报告</span>
										</p>
									</div>
								</div>
							</div>
								<div class="">
								<div class="panel-heading panel-heading2">
									<h3 class="panel-title">近期报告</h3>
								</div>
								<div class="panel-body no-padding">
									<table class="table table-striped">
										<thead>
											<tr>
												<th>编号</th>
												<th>产品</th>
												<th>类型</th>
												<th>时间</th>
												<th>状态</th>
											</tr>
										</thead>
										<tbody>
											<tr>
												<td><a id="spana" href="<%=request.getContextPath() %>/report/showReport/${report.report_name}">${report.report_name }</a></td>
												<td><span id="deviceType">${report.device_type}</span></td>
												<td><span id="reportType">${report.report_type}</span></td>
												<td>${report.submit_time }</td>
												<td><a id="spanc" class="label label-info" >${report.report_status}</a></td>
											</tr>
									<!-- 		<tr>
												<td><a href="#">763649</a></td>
												<td>悉心体温计</td>
												<td>15分</td>
												<td>2017/7/11 19:10</td>
												<td><a class="label label-warning">生成中</a></td>
											</tr>
											<tr>
												<td><a href="#">763650</a></td>
												<td>悉心心电仪</td>
												<td>24小时</td>
												<td>2017/7/11 19:10</td>
												<td><a class="label label-danger">未查看</span></td>
											</tr>
											<tr>
												<td><a href="#">763651</a></td>
												<td>悉心药盒</td>
												<td>全天</td>
												<td>2017/7/11 19:10</td>
												<td><a class="label label-info">已查看</span></td>
											</tr>
											<tr>
												<td><a href="#">763652</a></td>
												<td>悉心摄像头</td>
												<td>全天</td>
												<td>2017/7/11 19:10</td>
												<td><a class="label label-info">已查看</a></td>
											</tr> -->
										</tbody>
									</table>
								</div>
								<div class="">
									<div class="row">
										<div class="col-md-6"><span class="panel-note"><i class="fa fa-clock-o"></i> 点击报告编号查看详细内容</span></div>
										<div class="col-md-6 text-right"><a href="<%=request.getContextPath()%>/report/list" target="form-content" class="btn btn-success">查看所有报告</a></div>
									</div>
								</div>
							</div>
								</div>
							</div>
						</div>
					</div>
					<!-- END OVERVIEW -->
				</div>
			</div>
			<!-- END MAIN CONTENT -->
		<script type="text/javascript">
		
		 //查看状态的颜色更改
		window.onload=function(){
			//查看状态的颜色更改代码
			var type = document.getElementById("spanc");//获得报告状态
			var spana = document.getElementById("spana");//获得超链接对象
			var typeText = type.innerText;
				//未查看
				if(typeText==1){
					type.innerText="未查看";
					type.setAttribute("class","label label-info");
				}if(typeText==2){//已查看
					type.innerText="已查看";
					type.setAttribute("class","label label label-danger");
				}if(typeText==0){//正在生成
					type.innerText="生成中";
					type.setAttribute("class","label label-warning");
					spana.setAttribute("href","#");
					spana.onclick=foo;
					function foo(){
						alert("您的报告正在生成中，暂时无法查看");
					};
			}
				var deviceType = document.getElementById("deviceType");
				var reportType = document.getElementById("reportType");
				if(deviceType.innerText==1){
					deviceType.innerText="悉心心电仪";
					if(reportType.innerText==1) {reportType.innerText="1分钟心电报告";}
					if(reportType.innerText==2) {reportType.innerText="24小时心电报告";}
				}if(deviceType.innerText==2){
					deviceType.innerText="悉心体温计";
				}if(deviceType.innerText==3){
					deviceType.innerText="悉心药盒";
				}if(deviceType.innerText==3){
					deviceType.innerText="悉心摄像头";
				}
		}; 
		</script>
		<!-- END MAIN -->
</body>

</html>
