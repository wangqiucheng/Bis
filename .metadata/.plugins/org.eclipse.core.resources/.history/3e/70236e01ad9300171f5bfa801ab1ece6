package com.bisa.hkshop.wqc.web.dto;

import java.util.ArrayList;
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.bisa.hkshop.model.Commodity;

public class CommodityDto {
	private Commodity commodity;
	private int commodityCount;
	private double pricre;
	private double commoditytotal;
	
	
	
	public Commodity getCommodity() {
		return commodity;
	}



	public void setCommodity(Commodity commodity) {
		this.commodity = commodity;
	}



	public int getCommodityCount() {
		return commodityCount;
	}



	public void setCommodityCount(int commodityCount) {
		this.commodityCount = commodityCount;
	}







	public Double getPricre() {
		return pricre;
	}



	public void setPricre(Double pricre) {
		this.pricre = pricre;
	}



	public float getCountp() {
		return countp;
	}



	public void setCountp(float countp) {
		this.countp = countp;
	}



	public static  List<CommodityDto> toCon(List<Commodity> list) {
		
		Map<String, CommodityDto> listDDto =new  HashMap<String,CommodityDto>();
		if(listDDto.containsKey(key))
		Commodity b=null;
		
		for(Commodity c : list) {
			if(b==null) {
				CommodityDto ddto=new CommodityDto();
				ddto.setCommodity(c);
				ddto.setPricre(c.getSelling_price());
				ddto.setCountp(1);
				ddto.setCommodityCount(1);
				listDDto.put(c.getId()+"", ddto);
				b=c;
				continue;
			}
			
			if(c.getId()==b.getId()) {

				CommodityDto ddto=listDDto.get(c.getId()+"");
				ddto.setCommodityCount(ddto.getCommodityCount()+1);
				ddto.setPricre(ddto.getPricre());
				ddto.setCountp(ddto.getPricre()*ddto.getCommodityCount());
				listDDto.put(c.getId()+"", ddto);
				b=c;
			}else {
				CommodityDto ddto=new CommodityDto();
				ddto.setCommodity(c);
				ddto.setPricre(c.getSelling_price());
				ddto.setCountp(1);
				ddto.setCommodityCount(1);
				listDDto.put(c.getId()+"", ddto);
				b=c;
			}
		
		}
		
		return null;
	}
}
